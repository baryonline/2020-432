# Project 2 for 432

# This material is work in progress. There will be a final version posted before class on Thursday 2020-03-19. Do not rely on what you see below yet.

# The Four Deliverables

1. The [Project 2 Proposal Google Form](https://github.com/THOMASELOVE/2020-432/blob/master/projects/project2/README.md#the-project-2-proposal-google-form), due 2020-04-01.
2. The [Main Project 2 Document](https://github.com/THOMASELOVE/2020-432/blob/master/projects/project2/README.md#the-main-project-2-document) (which includes R Markdown and HTML files, plus an tidied .Rds file), due 2020-05-04.
3. The Project 2 (recorded) Video Presentation, due 2020-05-04.
4. The End-of-Term Google Form, also due 2020-05-04.

If you choose, you can work with a partner for deliverables 1, 2 and 3. If so, you'll need to specify this in the [Proposal Google Form](http://bit.ly/432-2020-project2-proposal-form). Everyone will complete the End-of-Term Google Form on their own.

-----------

# The Project 2 Proposal Google Form

The Project 2 Proposal Google Form is available now at http://bit.ly/432-2020-project2-proposal-form.

- You need to complete this form by 2020-04-01 at the time specified on the [Course Calendar](https://github.com/THOMASELOVE/2020-432/blob/master/calendar.md). 
- The things you will need in order to complete the form are:

1. A **decision** about whether you are going to work alone or with a partner on Project 2. 
      - If you are working in a group of two people, exactly one of you will fill out the form. There is a question on the form which allows you to tell us who your partner is, if you have one.
      - If you commit in the [Proposal Google Form](http://bit.ly/432-2020-project2-proposal-form) to working with a partner, we will generally expect you to maintain that approach through the entire Project, barring extraordinary circumstances. If a change is required, email Dr. Love as soon as possible.
2. A **title** for your Project 2.
      - The instructions say "Please provide a real title, not something like "Project 2 for 432" but something that actually describes the work you're doing. Restrict the length of your title to 100 characters or fewer, including spaces in the count."
3. The **data source(s)** for your Project 2.
      - Details on what sort of data you can use, etc. are available later on this page.
      - The instructions on the form say "If you are using more than one source of data, specify them all. Include a URL for any source available on the internet. You need to specify the number of observations in your data, and the key variables that relate to the research question(s) you will specify below. So, you should tell me something about where the data come from, and specify its size, and the key variables that are discussed in your research questions. Follow the Project 2 instructions."
      - The Form restricts the length of this response to 4000 characters, but we expect that most of you will need about half of that.
4. The **research question** (and any critical background) for your Project 2.
      - Details on research questions and examples of old effective questions are available later on this page.
      - The instructions on the form say "Your research question should focus the study, determine the methodology, and guide all stages of your data acquisition and analyses, as well as your presentation and reporting. Don't be unrealistic and claim you'll boil the ocean. A single clearly phrased question (and a question ends with a question mark) that links clearly to your data set is what you're looking for. The question must be one that lends itself well to the use of a regression model (you are welcome to adapt any regression modeling strategy connected to the 432 course) to develop an answer. Don't just list broad categories of things you want to explore. Make a commitment to a specific question you will try to address with the data. Then, after specifying the question, feel free to provide whatever background you feel is necessary for Dr. Love and the TAs to understand what you are asking and why the data you propose to use are suitable. Do not use jargon in your response and do not assume we know anything about your topic of interest that hasn't been discussed already in 431-432."
      - The Form restricts the length of this response to 4000 characters, but we expect that most of you will need about half of that.

The Form also has a place for other comments or questions for Dr. Love about your Project 2.

When we receive your [Proposal Form](http://bit.ly/432-2020-project2-proposal-form), we will either approve or reject your Project 2 idea. Once we approve your idea, you’re all set.

- If we cannot approve your proposal, we’ll tell you why, and you’ll then edit your response and re-submit.
- The main reason why we don’t approve projects is that we don’t understand your description of your data set, or how your research question can be addressed using your data set - so focus on making those descriptions and questions as clear as possible.

## Advice for the Proposal

Below, you'll find subsections providing:

1. Advice on Developing a Research Question
2. Several Sample Research Questions from Last Year's Class
3. Suggested Data Sources
4. Data Set Specifications, Requirements and Restrictions

## Advice on Developing a Research Question

Straightforward questions with a clear link to models we’ve studied or studying are the best option.

Jeff Leek, in his book [How to be a Modern Scientist](https://leanpub.com/modernscientist) has some excellent advice on this. In particular, identify a research question that:

- is concrete, (and for which you can find useful data), and that
- solves a real problem, and that
- gives you an opportunity to do something new,
- that you will feel ownership of, and
- that you want to work on.

I’ll add that your research question needs to be reasonable and plausible given the constraints on your time and energy. This is the time to develop something that can work in this setting, not try to boil the ocean. 

### Sample Research Questions from Last Year

To help guide your thinking, here are seven lightly edited successful research questions (*in your submission, you'd have to include more specific information where I've used parentheses and italics*) from last year's projects. You are welcome to use a similar question in your submission, but it cannot be identical to these.

1. How effectively can we predict whether a county is in the upper third vs. lower third of violent crime rates based on that county's drug overdose rate, race-ethnicity mix, household income and educational attainment?
2. Do patients (*with this diagnosis*) receiving (*treatment A, B or C*) exhibit meaningfully different survival rates, after adjusting for (*the presence or absence of several genetic mutations*) and (*several variables related to their clinical history*)?
3. How effectively can we predict the number of days in the past 30 where a person with a diabetes diagnosis was in poor physical health based on that person's age, sex, race-ethnicity, and (several measures related to social determinants of health)?
4. Does the amount of public transit available (buses and trains per square mile) provide useful information when predicting a city's prevalence of adults receiving primary care within the past year, afer adjusting for (specified covariates)? 
5. What can a model tell us about how hospital efficiency of care (a composite measure incorporating information from ER wait times, purchasing, and percent of personnel who receive the flu vaccine) and hygiene and contamination concerns (including rates of staph infection, C diff, and sepsis/blood infections) are associated with rates of post-surgery complications after serious cardiac events?
6. Can neuronal activity (captured as new activation, sustained activity, or inactive) be predicted effectively from other cell characteristics like age, RNA production, chromatin relaxation, spatial position, and sex?
7. How strong is the association between marijuana exposure and depression among females ages 20-45 participating in NHANES 2015-16 after adjusting for age, sleep hours, annual family income, health insurance coverage, and number of kids who are 5-year-old or younger in the household?

## Suggested Data Sources

Three especially appealing sources that I'd really like to see people use for Project 2 are:

1. The [Health and Retirement Study](https://hrs.isr.umich.edu/data-products/access-to-public-data)
2. The [General Social Survey](https://gssdataexplorer.norc.org/)
3. The many many public use data sets available at [ICSPR](https://www.icpsr.umich.edu/icpsrweb/ICPSR/)

Other sources students have used successfully in the past and that I’m happy to see include:

4. [National Center on Health Statistics](https://www.cdc.gov/nchs/data_access/ftp_data.htm) including NHANES
5. [Behavioral Risk Factor Surveillance System](https://www.cdc.gov/brfss/data_documentation/index.htm)
6. [500 Cities](https://chronicdata.cdc.gov/browse?category=500+Cities)
7. [County Health Rankings](https://www.countyhealthrankings.org/explore-health-rankings/rankings-data-documentation)

## Data Set Specifications/Requirements

- Dr. Love strongly prefers that you use data that can be shared with anyone in the world, but this is not mandatory.
- You will need special approval from Dr. Love (email him to ask for it before submitting the Proposal Form) to do a project that does not have between 250 and 10,000 observations. Anything in that range is fine, and if your data include meaningfully more than 10,000 observations, but you plan to sample down to 10,000, that will be OK. You will just need to let Dr. Love know that in the proposal form.
- Repeating a few things from the Tidying Data section...
      - Your final analytic tibble must contain at least 250 observations (with complete data) and at most 10,000 observations on between 5 and 15 variables, excluding the row identifiers (like subject IDs.) 
      - If you have a categorical variable in your final analytic tibble, each category in that variable should happen in at least 25 rows of your data. If that's not the case, you'll have to collapse some categories together.
      - At least one of the variables (outcome or predictor) you are studying must be quantitative, and at least one must be categorical with 3 or more categories.

## Some Restrictions (What data are you *not* allowed to use?)

- No projects on coronavirus or COVID-19, please. If it is important to you to do work in that area, please do it in the setting of [Homework 5](https://github.com/THOMASELOVE/2020-432/tree/master/homework/hw05).
- No data stored as part of any R package, without Dr. Love’s express approval (send email to request approval before submitting the proposal form.)
- You are not allowed to use data from a textbook or other educational resource for learning statistics, data science or related methods (online or otherwise).
- You are not allowed to use data Dr. Love or Dr. Briggs or any other faculty member at CWRU has provided to you for educational purposes.
- You cannot reuse the data from your 432 Project 1, although you can use related data to answer related questions. You are welcome to reuse data you used in your 431 project if it is suitable and you haven’t used it in Project 1 for 432.
- No hierarchical data. We want to powerfully discourage you from working with data that really require the use of multi-level models.
      - One example would be a model of patient results that contains measures not just for individual patients but also measures for the providers within which patients are grouped, and also for health systems in which providers are grouped. 
      - Another example would be a model of individual people’s outcomes where the covariates are gathered at the state or county level, as well as at the level of individuals. 
      - If your proposed research question involves the analysis of data that are nested like those above, we will reject the project. There simply isn’t time to learn the best approaches for that stuff in this context.
- Dr. Love is pretty tired of data from Kaggle, from the UC Irvine Machine Learning Repository, from the Cleveland Clinic Lerner College Repository and data from data analysis competitions. Avoid those unless you can make a very strong argument for their relevance to a question of real interest to you.

-----------

# The Main Project 2 Document

The Main Document includes an R Markdown file, an HTML file and an Rds tidy data set.  

**Submission Details**

- The deadline is noon on 2020-05-04, and your Main Document materials will be submitted through the `Project 2 Main Document` link via Canvas.
- The Canvas link should appear on 2020-04-01, and you may submit your Main Document at any time before the deadline once that link is live. 
- **Working with a Partner?** If you are working with a partner, one of you should submit the materials to Canvas, and the other partner should submit a note to Canvas indicating that their partner will submit the materials on time.
      - If you commit in the [Proposal Google Form](http://bit.ly/432-2020-project2-proposal-form) to working with a partner, we will generally expect you to maintain that approach through the entire Project, barring extraordinary circumstances. If a change is required, email Dr. Love as soon as possible.

## General Requirements for your R Markdown and HTML Materials

A key deliverable for Project 2 is an R Markdown document (and HTML result) which includes the eight sections described below. 
Your R Markdown document must create an HTML result containing:

- a meaningful title (of 100 characters or less) that describes your research question, 
- attractive HTML formatting (the approaches used in any of the Project 1 templates would be fine in terms of formatting) 
- an automated table of contents (so that `toc: TRUE` should be in your YAML materials) 
- should use **code-folding** in the HTML result (add code\_folding: show to your YAML)
- should use the **tidyverse** for data management, almost without exception
- use appropriate subsection headings (which you identify with hashtags on new lines in your R Markdown file) and with numbers     automatically applied by R to match the section numbering specified below.
- Be sure that `number_sections: true` is in your YAML section at the top of your R Markdown file.
      - To create a numbered section called “Data Source”, use the code `# Data Source` preceded and followed by a blank line in your R Markdown file
      - To create a numbered subsection called “First Source”, use the code `## First Source` preceded and followed by a blank line in your R Markdown file
      - To create an unnumbered subsection called “Packages”, you could use the code `## Packages {-}` preceded and followed by a blank line in your R Markdown file, but we think all subsections should be numbered in Project 2.
- use `comment = NA` in the setup chunk to avoid R output being preceded by hashtags `##`

Run the work using **R version 3.6.2** or later, please.

## The Eight Sections of Your Main Document

Next, I'll describe the eight sections of your main document.

## Section 1 should be labeled Preliminaries

Here, you will load all necessary R packages for the work you are doing.

- Use `message = FALSE` in the code chunk where the packages are listed to eliminate the messages in the HTML showing warnings about when packages were built or how objects were masked
- Load the `here` package first and the `tidyverse` package last, and avoid loading other packages that are loaded already by the tidyverse.
      - The complete list of packages that the tidyverse loads is [the set of core packages listed at this link](https://www.tidyverse.org/packages/).

## Section 2 should be labeled Research Question

Here, you will identify and describe a researchable question that is amenable to study using statistical tools that are associated with the 432 course.

- A question is expressed so as to elicit information, and ends with a question mark. Make the question the high point of this Section.
- The question must be one that lends itself well to the use of a regression model (you are welcome to adapt any regression modeling strategy connected to the 432 course) to develop an answer.

You can study anything you like, so long as you steer clear of things that Dr. Love thinks are inappropriate for a course project.
Before stating the question, provide as much background as is necessary for an intelligent person not familiar with the field of interest that encompasses your research question.

- For example, if your question is about genomics, do not assume the reader has a substantial education in genomics.  If your question is about sports, do not assume the reader is a sports fan. Avoid field-specific jargon.
- Assume that your reader has as clear an understanding as you do of all of the material we’ve discussed in our 431 and 432 classes.

## Section 3 should be labeled Data Source (or Sources)

Here, you must completely identify the source(s) of the data, so that Dr. Love understands what data you are using very well.

- Should the data be available online, you must also provide a URL where the reader can access the data in this section.
- Should the data not be available online, you must provide a detailed description of where the data come from, how it was gathered, and any restrictions that apply (for instance, if the data are not available to the public, be sure that we know that.) 
- You must also provide in this section evidence that you have any and all necessary approvals to use your data in a Project for this course.

By the end of this section, make it completely clear to the reader why your chosen data is worthy of exploration in the context of your question.

## Section 4 should be labeled Ingesting and Tidying the Data

Begin this section by loading in the data you will use.

Next, we want to see the work required to manage and tidy the data into the form you used for your analyses. 

- Do not show sanity checks or false starts. Instead, stick to presenting only the activities which are needed to turn the initial data into the analytic tibble you will use for your analyses.
- Use subsections to delineate the management tasks you perform, and provide guidance in English in between the code chunks that helps the reader understand what you are doing every step of the way.
- If you have a categorical variable in your final analytic tibble, each category in that variable should happen in at least 25 rows of your data. If that's not the case, you'll have to collapse some categories together.
- At least one of the variables (outcome or predictor) you are studying must be quantitative, and at least one must be categorical with 3 or more categories.
- On Dealing with Missingness
      - If you have missing data in an outcome or key predictor variable, we want you to drop those values from your data set in this tidying process.
      - If you have missing data in any other variable, we want you to discuss here whether a missing at random assumption is reasonable.
            - If so, we want you to use multiple imputation in generating your final analyses (although you are encouraged to consider simple imputation or complete case approaches in your intermediate analytic steps.)
            - If not, we suggest you reduce the scope of your data set to eliminate either the observations that are not missing at random, or to eliminate the variables containing those missing values.

The next to last subsection of Section 4 should be a listing of your final analytic data set (just type its name) to prove that you have generated a tibble in R. Call this subsection **Listing the Analytic Tibble**

- This tibble should include any columns of identifying information for the subjects that you deem necessary, plus the variables you intend to use in your Data Analysis.
- Your tibble listing must be the result of a single line of code where you call the name of the data set. You cannot manipulate it in any way.
      - As it will be a tibble, this listing should provide Dr. Love (in the HTML) with a correct count of the number of rows and number of columns in your analytic data set.
- Your final analytic tibble as shown in this Section and used in the codebook and analyses that follow must contain between 250 and 10,000 observations on between 5 and 15 variables, excluding the row identifiers (like subject IDs) although your original raw data set may contain more than 10,000 observations and/or more than 15 non-identification variables, so long as you prune it down to fit within that limit in this Section.

The final subsection of Section 4 should be a single line of code where you save the final analytic tibble to an .Rds file. Call this subsection **Saving the Analytic Tibble**.

- If Dr. Love is permitted to have access to your data, you will then provide that .Rds file to him as part of your Canvas submission at the end oft he term.
- If Dr. Love is not permitted to have access to your data, you will need to provide an .Rds file containing two randomly selected and de-identified rows from your tibble.

## Section 5 should be labeled Codebook

Produce a codebook for the variables that you intend to use in your Data Analysis. For each variable, provide the following in an attractive and user-friendly format:

- its name in the tibble you printed at the end of Section 4; be sure that every variable in the Codebook is in the Analytic Tibble
- a description of what the variable means, in English, with appropriate units of measurement specified, or in the case of categorical variables, a description of each possible level of the variable
- the type of variable (quantitative, count, binary, ordered multi-categorical, unordered multi-categorical, or censored time-to-event)
the number of missing values contained in the Analytic Tibble for that variable.

## Section 6 should be labeled Data Analysis

This includes your work to Transform, Visualize and Model your data so as to address your research question. 

- You are welcome to use any reasonable strategy connected to **either 431 or 432** or even something else you’ve learned about to visualize and transform the data.
- You can adapt any **regression modeling strategy connected to the 432 course** to model the data. 

Present the material here in an order that makes sense to you as being of maximum value to your reader. 

- Do not present detours or false starts or sanity checks that detract from the main analyses you wish to present.
- Use subsections to delineate separate analytic tasks, and to guide the reader.

End this section with a clear description of the final model you settle on, remembering that this may require multiple imputation.

## Section 7 should be labeled Conclusions

Here, you will describe, in complete English sentences, what you have learned about your research question by doing the work in the previous sections. 

- Be sure to begin your Conclusions section by restating the research question in new words and then providing a clear answer (which is not likely to be a completely definitive answer) to your question.
- The remainder of the Conclusions section should discuss the strengths and limitations of your approach, and also comment on possible next steps and describe what you would now do differently in studying this question (if anything) having gone through this experience. 
- A good Conclusions section will likely require between 250 and 500 words.
 
## Section 8 should be labeled Session Information

Here, you will include the R session information, using `sessioninfo::session_info()`.

-----------

# The Project 2 (Recorded) Video Presentation

This is a short pre-recorded video presentation where you display and discuss whatever you feel are the most important parts of Sections 6 and 7 of your document. The deadline is noon on 2020-05-04, and your Video Presentation materials will be submitted through the `Project 2 Video Presentation goes here` link via Canvas. The Canvas link should appear on 2020-04-01, and you may submit your Presentation materials at any time before the deadline once that link is live.

- **Working Alone?** Your presentation should be 3-4 minutes in length. 
      - Be sure your name and the date is included in your filename, as in `video_jane_smith_2020-05-04.mp4`.
- **Working with a Partner?** One of you will provide two separate presentations (one from each of you) each of 3-4 minutes in length, along with a written note indicating which of your two presentations should be watched first. 
      - The other partner need only submit a note to Canvas indicating that their partner will submit the materials on time.
      - Be sure the name of the person giving the presentation in each video is specified in the filename for that video.

At a minimum, your presentation should specify your research question, highlight key findings, demonstrate the model you developed, and answer the research question. 

- Given the short length of the presentation, that’s probably all you’ll be able to do.
- The first thing you will do on any recording is introduce yourself by name.
- Although it's nice to see you at the beginning, if possible, I don’t need to be able to see your face so long as your name is included in the filename, so it’s fine (and appropriate) to show results from a slide deck or from your portfolio. Be sure I can see and hear your video clearly.
- If you use **slides** or anything other than your main document in your presentation, please submit those materials via Canvas as part of your video presentation materials so that I can follow along in case it's hard to see in the video.
- If you are working with a partner, one of you should present part of this work, and the other should present the rest, so that if I watch the two videos back-to-back, I get the experience of watching a thorough single presentation related to the same research question done by two people in different places.

-----------

# The End-of-Term Google Form

You will complete an end-of-term Google Form also due 2020-05-04, where you will be ...

1. asked to summarize the key finding of your study briefly in your own well-chosen set of 50 or fewer words, and 
2. asked about the most important thing you’ve learned in 432, 
3. asked about the next step you’re most eager to take in developing yourself as a data scientist, and 
4. asked about the most important piece of advice you wished you’d heard when starting the 431-432 sequence. 

If you’re working as a pair, each of you must submit the end-of-term Google Form separately. We will post the end-of-term Google Form by mid-April.

-----------

# Grading Project 2

Project 2 will be graded on a scale from 0 to 100. Students meeting the minimum requirements expressed above successfully and on-time, will receive a minimum score of 85. This includes:

- 10 points for successful completion of the Project 2 Proposal Google Form, due 2020-04-01.
- 40 points for on-time complete submission of all necessary files (.Rmd, .HTML, .Rds) associated with the Main Project 2 Document so that Dr. Love can successfully review them
- 25 points for on-time complete submission of the Video Presentation materials so that Dr. Love can successfully review your work
- 10 points for on-time completion of the End-of-Term Google Form

To get to the maximum score of 100, Dr. Love will award up to 15 additional points for especially thoughtful and effective work on:

- the main document 
- the video presentation and/or
- the end-of-term Google Form.

-----------

# Questions?

Questions about Project 2 should be directed to `431-help`.
